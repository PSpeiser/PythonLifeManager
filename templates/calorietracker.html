<!DOCTYPE html>
<html>
<head>
    <script src="/static/jquery-1.10.2.js"></script>
    <script>
        $.ajaxSetup({
            cache: true
        });
    </script>
    <script src="/static/jquery.dataTables.js"></script>
    <script src="/static/jquery.jstree.js"></script>
    <script src="/static/ui/jquery-ui.js"></script>
    <script src="/static/d3.v3.js"></script>
    <link rel="stylesheet" href="/static/themes/base/jquery-ui.css">
    <style>


        body {
            font: 12px sans-serif;
        }

        #tree {
            width: 300px;
            float: left;
            border: 1px ridge darkgray;
            margin: 2px;
            padding: 5px;
        }

        .red {
            background-color: #B22222;
        }

        .green {
            background-color: #90EE90;
        }

        #wrapper {
            overflow: hidden;
        }

            /*calorie_graph*/
        svg {
            float: left;
            border: 1px ridge darkgray;
            margin: 2px;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }

        .line {
            fill: none;
            stroke: steelblue;
            stroke-width: 1.5px;
        }

        .axis path,
        .axis line,
        .domain {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
            stroke-width: 1px;
        }

        path {
            stroke: steelblue;
            stroke-width: 2;
            stroke-width: 1.5px;
            fill: none;
        }

        .threshold_line {
            stroke: red;
            stroke-width: 1.5px;
            stroke-opacity: 1;
        }

        path.data {
            fill: transparent;
            stroke: grey;
            stroke-width: 2;
        }

        .threshold_line {
            stroke: red;
            stroke-width: 1.5px;
            stroke-opacity: 1;
        }



        /*foodtable*/
        #table_wrapper {
            float: left;
            max-width: 178px;
            overflow: auto;
            margin: 2px;
            border: 1px ridge darkgray;
            padding: 5px;

        }

        #table_processing {
            height: 0px;
            padding: 0px;
            margin: 0px;
        }

    </style>
</head>
<body>

<div id="wrapper">
    <div id="tree"></div>
    <script>
        $.getScript('meal_tree.js');
    </script>
    <div id="svg_placeholder"></div>
    <script>
        $.getScript('calorie_graph.js');
    </script>
    <table id="table" cellpadding="1" cellspacing="1" border="1">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>KCal</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<script>

    /*
     .########.....###....########....###....########....###....########..##.......########..######.
     .##.....##...##.##......##......##.##......##......##.##...##.....##.##.......##.......##....##
     .##.....##..##...##.....##.....##...##.....##.....##...##..##.....##.##.......##.......##......
     .##.....##.##.....##....##....##.....##....##....##.....##.########..##.......######....######.
     .##.....##.#########....##....#########....##....#########.##.....##.##.......##.............##
     .##.....##.##.....##....##....##.....##....##....##.....##.##.....##.##.......##.......##....##
     .########..##.....##....##....##.....##....##....##.....##.########..########.########..######.
     */
    $(document).ready(function () {
        oTable = $('#table').dataTable({
            bProcessing: true,
            sAjaxSource: 'food.json',
            "aoColumns": [
                /* ID */   { "bSearchable": false, "bVisible": false },
                /* Name */  null,
                /* KCal */ null
            ],
            bSort: false,
            "bFilter": false,
            "bInfo": false,
            bAutoWidth: false,
            sScrollX: 'auto',
            sScrollY: "300px",
            bScrollCollapse: true,
            bPaginate: false,
            fnDrawCallback: function () {
                clickRowHandler();
            }});
    });
    function clickRowHandler() {
        $('#table tbody tr').bind('dblclick', function () {
                    var aData = oTable.fnGetData(this);
                    var iId = aData[0];
                    //add meal here
                    alert(iId);
                }
        );
    }
</script>

</body>
<div id="dialog-confirm" title="Meal Deletion">
</div>
</html>